import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs/Observable';
import 'rxjs/add/observable/of';

import * as Constants from '../constants/constants';
import { Square } from '../models/square';

@Injectable()
export class MockSquareInterceptor implements HttpInterceptor {
    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {
        if (req.method === 'GET' && req.url === `${Constants.ApiBaseUrl}/squares`) {
            const squareResponse = this.getSquares();
            const response = new HttpResponse({
                body: squareResponse
            });
            return Observable.of(response);
        }
        return next.handle(req);
    }

    getSquares(): Array<Square> {
        const squares = [{
            'id': 0,
            'row': 0,
            'col': 0,
            'validMove': false
        }, {
            'id': 1,
            'row': 0,
            'col': 1,
            'validMove': false
        }, {
            'id': 2,
            'row': 0,
            'col': 2,
            'validMove': false
        }, {
            'id': 3,
            'row': 0,
            'col': 3,
            'validMove': false
        }, {
            'id': 4,
            'row': 0,
            'col': 4,
            'validMove': false
        }, {
            'id': 5,
            'row': 0,
            'col': 5,
            'validMove': false
        }, {
            'id': 6,
            'row': 0,
            'col': 6,
            'validMove': false
        }, {
            'id': 7,
            'row': 0,
            'col': 7,
            'validMove': false
        }, {
            'id': 8,
            'row': 1,
            'col': 0,
            'validMove': false
        }, {
            'id': 9,
            'row': 1,
            'col': 1,
            'validMove': false
        }, {
            'id': 10,
            'row': 1,
            'col': 2,
            'validMove': false
        }, {
            'id': 11,
            'row': 1,
            'col': 3,
            'validMove': false
        }, {
            'id': 12,
            'row': 1,
            'col': 4,
            'validMove': false
        }, {
            'id': 13,
            'row': 1,
            'col': 5,
            'validMove': false
        }, {
            'id': 14,
            'row': 1,
            'col': 6,
            'validMove': false
        }, {
            'id': 15,
            'row': 1,
            'col': 7,
            'validMove': false
        }, {
            'id': 16,
            'row': 2,
            'col': 0,
            'validMove': false
        }, {
            'id': 17,
            'row': 2,
            'col': 1,
            'validMove': false
        }, {
            'id': 18,
            'row': 2,
            'col': 2,
            'validMove': false
        }, {
            'id': 19,
            'row': 2,
            'col': 3,
            'validMove': false
        }, {
            'id': 20,
            'row': 2,
            'col': 4,
            'validMove': false
        }, {
            'id': 21,
            'row': 2,
            'col': 5,
            'validMove': false
        }, {
            'id': 22,
            'row': 2,
            'col': 6,
            'validMove': false
        }, {
            'id': 23,
            'row': 2,
            'col': 7,
            'validMove': false
        }, {
            'id': 24,
            'row': 3,
            'col': 0,
            'validMove': false
        }, {
            'id': 25,
            'row': 3,
            'col': 1,
            'validMove': false
        }, {
            'id': 26,
            'row': 3,
            'col': 2,
            'validMove': false
        }, {
            'id': 27,
            'row': 3,
            'col': 3,
            'validMove': false
        }, {
            'id': 28,
            'row': 3,
            'col': 4,
            'validMove': false
        }, {
            'id': 29,
            'row': 3,
            'col': 5,
            'validMove': false
        }, {
            'id': 30,
            'row': 3,
            'col': 6,
            'validMove': false
        }, {
            'id': 31,
            'row': 3,
            'col': 7,
            'validMove': false
        }, {
            'id': 32,
            'row': 4,
            'col': 0,
            'validMove': false
        }, {
            'id': 33,
            'row': 4,
            'col': 1,
            'validMove': false
        }, {
            'id': 34,
            'row': 4,
            'col': 2,
            'validMove': false
        }, {
            'id': 35,
            'row': 4,
            'col': 3,
            'validMove': false
        }, {
            'id': 36,
            'row': 4,
            'col': 4,
            'validMove': false
        }, {
            'id': 37,
            'row': 4,
            'col': 5,
            'validMove': false
        }, {
            'id': 38,
            'row': 4,
            'col': 6,
            'validMove': false
        }, {
            'id': 39,
            'row': 4,
            'col': 7,
            'validMove': false
        }, {
            'id': 40,
            'row': 5,
            'col': 0,
            'validMove': false
        }, {
            'id': 41,
            'row': 5,
            'col': 1,
            'validMove': false
        }, {
            'id': 42,
            'row': 5,
            'col': 2,
            'validMove': false
        }, {
            'id': 43,
            'row': 5,
            'col': 3,
            'validMove': false
        }, {
            'id': 44,
            'row': 5,
            'col': 4,
            'validMove': false
        }, {
            'id': 45,
            'row': 5,
            'col': 5,
            'validMove': false
        }, {
            'id': 46,
            'row': 5,
            'col': 6,
            'validMove': false
        }, {
            'id': 47,
            'row': 5,
            'col': 7,
            'validMove': false
        }, {
            'id': 48,
            'row': 6,
            'col': 0,
            'validMove': false
        }, {
            'id': 49,
            'row': 6,
            'col': 1,
            'validMove': false
        }, {
            'id': 50,
            'row': 6,
            'col': 2,
            'validMove': false
        }, {
            'id': 51,
            'row': 6,
            'col': 3,
            'validMove': false
        }, {
            'id': 52,
            'row': 6,
            'col': 4,
            'validMove': false
        }, {
            'id': 53,
            'row': 6,
            'col': 5,
            'validMove': false
        }, {
            'id': 54,
            'row': 6,
            'col': 6,
            'validMove': false
        }, {
            'id': 55,
            'row': 6,
            'col': 7,
            'validMove': false
        }, {
            'id': 56,
            'row': 7,
            'col': 0,
            'validMove': false
        }, {
            'id': 57,
            'row': 7,
            'col': 1,
            'validMove': false
        }, {
            'id': 58,
            'row': 7,
            'col': 2,
            'validMove': false
        }, {
            'id': 59,
            'row': 7,
            'col': 3,
            'validMove': false
        }, {
            'id': 60,
            'row': 7,
            'col': 4,
            'validMove': false
        }, {
            'id': 61,
            'row': 7,
            'col': 5,
            'validMove': false
        }, {
            'id': 62,
            'row': 7,
            'col': 6,
            'validMove': false
        }, {
            'id': 63,
            'row': 7,
            'col': 7,
            'validMove': false
        }];
        return squares;
    }


}
